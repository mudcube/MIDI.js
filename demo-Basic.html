<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns = "http://www.w3.org/1999/xhtml">
<head>
    <title>Demo basic</title>
 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <!-- midi.js package -->
 <script src="./js/MIDI/AudioDetect.js" type="text/javascript"></script>
 <script src="./js/MIDI/LoadPlugin.js" type="text/javascript"></script>
 <script src="./js/MIDI/Plugin.js" type="text/javascript"></script>
 <script src="./js/MIDI/Player.js" type="text/javascript"></script>
 <script src="./js/Window/DOMLoader.XMLHttp.js" type="text/javascript"></script>
 <!-- extras -->
 <script src="./inc/Base64.js" type="text/javascript"></script>
 <script src="./inc/base64binary.js" type="text/javascript"></script>
</head>
<body>
<script type="text/javascript">

window.onload = function () {
        MIDI.loadPlugin({
            soundfontUrl: "./soundfont/"
           ,instruments: ["accordion", "acoustic_grand_piano"]
           //,targetFormat: "mp3"
           ,callback: function() {
              MIDI.programChange(0, 21); // accordion
              MIDI.programChange(1, 0); // piano
              var delay = 0; // play one note every quarter second
              var note = 50; // the MIDI note
              var velocity = 127; // how hard the note hits
              // play the note
              MIDI.setVolume(0, 127);
              MIDI.noteOn(0, note, velocity, delay);
              MIDI.noteOff(0, note, delay + 0.75);
              
              MIDI.setVolume(1, 127);
              MIDI.noteOn(1, note, velocity, delay);
              MIDI.noteOff(1, note, delay + 0.75);
            }
        });
    

};

</script>
</body>
</html>